@using NotePro.Utilities;

@model NotesListViewModel;

@{
    ViewData["Title"] = "NotesList";
    var sort0Active = Model.SortOption == SortOption.Recent ? "active" : "";
    var sort1Active = Model.SortOption == SortOption.Oldest ? "active" : "";
    var sort2Active = Model.SortOption == SortOption.DueDate ? "active" : "";
    var sort3Active = Model.SortOption == SortOption.Importance ? "active" : "";

    var filter0Active = Model.FilterOption == FilterOption.ExcludeFinished ? "active" : "";
    var filter1Active = Model.FilterOption == FilterOption.NoFilter ? "active" : "";
}

<h2>Note List</h2>

<div class="btn-group" data-toggle="buttons">

    <form id="sortform" asp-action="Index" method="get" >
        <input type="hidden" name="FilterOptionIndex" id="@Model.FilterOption" />
        <label class="btn btn-default @sort0Active">
            <input class="sort" type="radio" name="SortOptionIndex" id="sort0" value="0" autocomplete="off">Recent
        </label>

        <label class="btn btn-default @sort1Active">
            <input class="sort" type="radio" name="SortOptionIndex" id="sort1" value="1" autocomplete="off">Oldest
        </label>

        <label class="btn btn-default @sort2Active">
            <input class="sort" type="radio" name="SortOptionIndex" id="sort2" value="2" autocomplete="off">Due Date
        </label>

        <label class="btn btn-default @sort3Active">
            <input class="sort" type="radio" name="SortOptionIndex" id="sort3" value="3" autocomplete="off">Importance
        </label>
    </form>
</div>

<div class="btn-group" data-toggle="buttons">

    <form id="filterform" asp-action="Index" method="get">
        <input type="hidden" name="SortOptionIndex" id="@Model.SortOption" />
        <label class="btn btn-default @filter0Active">
            <input class="filter" type="radio" name="FilterOptionIndex" id="filter0" value="0" autocomplete="off">Hide Finished
        </label>

        <label class="btn btn-default @filter1Active">
            <input class="filter" type="radio" name="FilterOptionIndex" id="filter1" value="1" autocomplete="off">Show Finished
        </label>

    </form>
</div>


<div class="row">

    @foreach (var item in Model.Notes)
    {
        <div class="col-12 col-sm-6 col-md-4">
            <!--Panel-->
            <div class="card mt-4 mb-4">
                <h3 class="card-header primary-color white-text">@Html.DisplayFor(modelItem => item.Title) @Html.DisplayFor(modelItem => item.Priority)</h3>
                <div class="card-body">
                    <h4 class="card-title">@Html.DisplayFor(modelItem => item.CreationDate) @Html.DisplayFor(modelItem => item.DueDate)</h4>
                    <p class="card-text">@Html.DisplayFor(modelItem => item.Description)</p>
                    <a class="btn btn-default" asp-action="EditNote" asp-route-id="@item.Id">Edit</a>
                    <a class="btn btn-default" asp-action="DeleteNote" asp-route-id="@item.Id" asp-method="delete">Delete</a>
                </div>
            </div>
            <!--/.Panel-->
        </div>
      }

        </div>


@section Scripts {
    <script src="~/js/note-list.js"></script>
}




